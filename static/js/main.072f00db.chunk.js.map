{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","App.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","services/servicesApi.js","App.js","index.js"],"names":["module","exports","Searchbar","value","onChange","onSubmit","className","s","SearchForm","type","autoComplete","autoFocus","placeholder","ImageGallery","pictures","onClick","map","id","webformatURL","tags","largeURL","ImageGalleryItem","src","alt","modalRoot","document","querySelector","Modal","picture","toggleModal","onBackdropClick","handleKeyDown","e","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","largeImageURL","query","App","useState","setValue","page","setPage","setPictures","modalPicture","setModalPicture","isLoading","setIsLoading","showModal","setShowModal","fetchPictures","preventDefault","options","prevState","apiKey","axios","get","fetchPicturesBase","then","res","data","hits","picturesSet","finally","shouldRenderLoadMoreButton","length","target","alert","searchedId","Number","searchedPicture","find","color","height","width","timeout","Button","variant","scrollTo","top","documentElement","scrollHeight","behavior","currentTarget","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.072f00db.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__wojzD\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__qCb6s\",\"ImageGalleryItem-image\":\"ImageGallery_ImageGalleryItem-image__2UO2U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1dJpy\",\"Modal\":\"Modal_Modal__24838\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2qdnt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3Y7II\",\"SearchForm\":\"Searchbar_SearchForm__1AbCd\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1iYmB\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3Qcie\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1IocF\"};","import s from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ value, onChange, onSubmit }) => {\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} value=\"\" onSubmit={onSubmit}>\r\n        <button type=\"submit\" className={s[\"SearchForm-button\"]}>\r\n          <span className={s[\"SearchForm-button-label\"]}>Search</span>\r\n        </button>\r\n        <input\r\n          className={s[\"SearchForm-input\"]}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          type=\"text\"\r\n          placeholder=\"Search images and photos\"\r\n          value={value}\r\n          onChange={onChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import s from \"./ImageGallery.module.css\";\r\nconst ImageGallery = ({ pictures, onClick }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {pictures.map(({ id, webformatURL, largeURL, tags }) => (\r\n        <li key={id} className={s.ImageGalleryItem} onClick={onClick}>\r\n          <img\r\n            id={id}\r\n            className={s[\"ImageGalleryItem-image\"]}\r\n            src={webformatURL}\r\n            alt={tags}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\nimport React, { useEffect } from \"react\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nconst Modal = ({ picture, toggleModal, onBackdropClick }) => {\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={onBackdropClick}>\r\n      <div className={s.Modal}>\r\n        <img src={picture.largeImageURL} alt={picture.tags} />;\r\n      </div>\r\n      <button type=\"button\"></button>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nlet query = \"\";\r\n\r\nconst fetchPicturesBase = ({\r\n  value,\r\n  page = 1,\r\n  apiKey = \"19920308-f5c9c99cb5045aa424c0eff35\",\r\n}) => {\r\n  if (value !== \"\") {\r\n    query = value;\r\n  }\r\n\r\n  return axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=15`\r\n  );\r\n};\r\n\r\nexport { fetchPicturesBase };\r\n","import Searchbar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport Modal from \"./components/Modal\";\r\nimport { useState } from \"react\";\r\nimport s from \"./App.module.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { fetchPicturesBase } from \"./services/servicesApi\";\r\n\r\nfunction App() {\r\n  const [value, setValue] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [pictures, setPictures] = useState([]);\r\n  const [modalPicture, setModalPicture] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const handleSubmitChange = (e) => {\r\n    setPage(1);\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const fetchPictures = (e) => {\r\n    e.preventDefault();\r\n\r\n    const options = {\r\n      value,\r\n      page,\r\n    };\r\n\r\n    setValue(\"\");\r\n    setIsLoading((prevState) => !prevState);\r\n\r\n    fetchPicturesBase(options)\r\n      .then((res) => res.data.hits)\r\n      .then((picturesSet) => {\r\n        setPictures((prevState) => [...prevState, ...picturesSet]);\r\n        setPage((prevState) => prevState + 1);\r\n      })\r\n\r\n      .finally(() => {\r\n        setIsLoading((prevState) => !prevState);\r\n      });\r\n  };\r\n\r\n  const handleSubmitExecution = (e) => {\r\n    if (value === \"\") {\r\n      e.preventDefault();\r\n      return alert(\"The query cannot be empty\");\r\n    }\r\n    setPictures([]);\r\n    fetchPictures(e);\r\n  };\r\n\r\n  const loadMore = (e) => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n    fetchPictures(e);\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setShowModal((prevState) => !prevState);\r\n  };\r\n\r\n  const onBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  const getModalPicture = (e) => {\r\n    toggleModal();\r\n    const searchedId = Number(e.target.id);\r\n    const searchedPicture = pictures.find(\r\n      (picture) => picture.id === searchedId\r\n    );\r\n    return setModalPicture(searchedPicture);\r\n  };\r\n\r\n  const shouldRenderLoadMoreButton = pictures.length > 0 && !isLoading;\r\n\r\n  return (\r\n    <div className={s.App}>\r\n      <Searchbar\r\n        value={value}\r\n        onChange={handleSubmitChange}\r\n        onSubmit={handleSubmitExecution}\r\n      />\r\n      <ImageGallery pictures={pictures} onClick={getModalPicture} />\r\n      {isLoading && (\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#3f51b5\"\r\n          height={40}\r\n          width={40}\r\n          timeout={3000}\r\n        />\r\n      )}\r\n      {shouldRenderLoadMoreButton && (\r\n        <Button variant=\"contained\" color=\"primary\" onClick={loadMore}>\r\n          Load More\r\n        </Button>\r\n      )}\r\n      {showModal && (\r\n        <Modal\r\n          picture={modalPicture}\r\n          onClick={toggleModal}\r\n          onBackdropClick={onBackdropClick}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./styles.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}